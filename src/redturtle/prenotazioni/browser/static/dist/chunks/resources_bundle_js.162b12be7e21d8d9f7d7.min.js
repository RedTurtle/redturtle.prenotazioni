/*! redturtle-prenotazioni 2.0.0-dev.0 */
"use strict";
(self["webpackChunkredturtle_prenotazioni"] = self["webpackChunkredturtle_prenotazioni"] || []).push([["resources_bundle_js"],{

/***/ "./resources/bundle.js":
/*!*****************************!*\
  !*** ./resources/bundle.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _patternslib_patternslib_src_core_registry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @patternslib/patternslib/src/core/registry */ "./node_modules/@patternslib/patternslib/src/core/registry.js");
/* harmony import */ var _js_reservation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./js/reservation.js */ "./resources/js/reservation.js");


_patternslib_patternslib_src_core_registry__WEBPACK_IMPORTED_MODULE_0__["default"].init();

/***/ }),

/***/ "./resources/js/reservation.js":
/*!*************************************!*\
  !*** ./resources/js/reservation.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "webpack/sharing/consume/default/jquery/jquery");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _patternslib_patternslib_src_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @patternslib/patternslib/src/core/base */ "./node_modules/@patternslib/patternslib/src/core/base.js");
/* harmony import */ var _patternslib_patternslib_src_core_logging__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @patternslib/patternslib/src/core/logging */ "./node_modules/@patternslib/patternslib/src/core/logging.js");



_patternslib_patternslib_src_core_logging__WEBPACK_IMPORTED_MODULE_2__["default"].setLevel("INFO");
const log = _patternslib_patternslib_src_core_logging__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("redturtle.prenotazioni");
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_patternslib_patternslib_src_core_base__WEBPACK_IMPORTED_MODULE_1__["default"].extend({
  name: "redturtle-prenotazioni",
  trigger: ".template-prenotazionifolder form.enableUnloadProtection",
  parser: "mockup",
  init: function () {
    console.log("QUI");
    jquery__WEBPACK_IMPORTED_MODULE_0___default()(document).on("afterdatagridfieldinit", function () {
      jquery__WEBPACK_IMPORTED_MODULE_0___default()("input[name$='widgets.day']").attr("readonly", "readonly");
    });
    jquery__WEBPACK_IMPORTED_MODULE_0___default()(document).ready(function () {
      var actionBook = jquery__WEBPACK_IMPORTED_MODULE_0___default()("#form-buttons-action_book");
      if (actionBook) {
        console.log(actionBook);
        actionBook.addClass("context");
      }
    });
    jquery__WEBPACK_IMPORTED_MODULE_0___default()(document).ready(function () {
      const TIPOLOGIA_PRENOTAZIONE_COOKIE = "TipologiaPrenotazione_cookie";
      function UnicodeDecodeB64(str) {
        return decodeURIComponent(atob(str));
      }
      function getCookie(name) {
        let cookie = {};
        document.cookie.split(";").forEach(function (el) {
          let [k, v] = el.split("=");
          cookie[k.trim("'")] = v;
        });
        let cookie_str = cookie[name];
        if (cookie_str) {
          cookie_str = cookie_str.replace(/(^"|"$)/g, "");
        } else {
          return "";
        }
        return decodeURIComponent(cookie_str);
      }
      if (!jquery__WEBPACK_IMPORTED_MODULE_0___default()("form.kssattr-formname-prenotazione_add").length) {
        return;
      }
      let arr = jquery__WEBPACK_IMPORTED_MODULE_0___default()('input[name^="form.widgets.booking_type"]');
      let booking_type_cookie = getCookie(TIPOLOGIA_PRENOTAZIONE_COOKIE);
      if (!booking_type_cookie) {
        return;
      }

      // sanitize type
      let preselcted_booking_type = booking_type_cookie.trim().slice(1, booking_type_cookie.length - 1);
      for (let i = 0; i < arr.length; i++) {
        if (arr[i].value.includes(preselcted_booking_type)) {
          jquery__WEBPACK_IMPORTED_MODULE_0___default()(arr[i]).prop("checked", true);
        }
      }
      document.cookie = TIPOLOGIA_PRENOTAZIONE_COOKIE + "=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;";
    });
  }
}));

/***/ })

}]);
//# sourceMappingURL=resources_bundle_js.162b12be7e21d8d9f7d7.min.js.map