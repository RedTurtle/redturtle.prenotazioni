{"version":3,"file":"chunks/resources_bundle_js.162b12be7e21d8d9f7d7.min.js","mappings":"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","sources":["webpack://redturtle-prenotazioni/./resources/bundle.js","webpack://redturtle-prenotazioni/./resources/js/reservation.js"],"sourcesContent":["import registry from \"@patternslib/patternslib/src/core/registry\";\n\nimport \"./js/reservation.js\";\n\nregistry.init();\n","import $ from \"jquery\";\nimport Base from \"@patternslib/patternslib/src/core/base\";\nimport logging from \"@patternslib/patternslib/src/core/logging\";\n\nlogging.setLevel(\"INFO\");\nconst log = logging.getLogger(\"redturtle.prenotazioni\");\n\nexport default Base.extend({\n    name: \"redturtle-prenotazioni\",\n    trigger: \".template-prenotazionifolder form.enableUnloadProtection\",\n    parser: \"mockup\",\n\n    init: function () {\n        console.log(\"QUI\");\n        $(document).on(\"afterdatagridfieldinit\", function () {\n            $(\"input[name$='widgets.day']\").attr(\"readonly\", \"readonly\");\n        });\n        $(document).ready(function () {\n            var actionBook = $(\"#form-buttons-action_book\");\n            if (actionBook) {\n                console.log(actionBook);\n\n                actionBook.addClass(\"context\");\n            }\n        });\n\n        $(document).ready(function () {\n            const TIPOLOGIA_PRENOTAZIONE_COOKIE = \"TipologiaPrenotazione_cookie\";\n\n            function UnicodeDecodeB64(str) {\n                return decodeURIComponent(atob(str));\n            }\n\n            function getCookie(name) {\n                let cookie = {};\n                document.cookie.split(\";\").forEach(function (el) {\n                    let [k, v] = el.split(\"=\");\n                    cookie[k.trim(\"'\")] = v;\n                });\n                let cookie_str = cookie[name];\n\n                if (cookie_str) {\n                    cookie_str = cookie_str.replace(/(^\"|\"$)/g, \"\");\n                } else {\n                    return \"\";\n                }\n\n                return decodeURIComponent(cookie_str);\n            }\n\n            if (!$(\"form.kssattr-formname-prenotazione_add\").length) {\n                return;\n            }\n\n            let arr = $('input[name^=\"form.widgets.booking_type\"]');\n            let booking_type_cookie = getCookie(TIPOLOGIA_PRENOTAZIONE_COOKIE);\n\n            if (!booking_type_cookie) {\n                return;\n            }\n\n            // sanitize type\n            let preselcted_booking_type = booking_type_cookie\n                .trim()\n                .slice(1, booking_type_cookie.length - 1);\n\n            for (let i = 0; i < arr.length; i++) {\n                if (arr[i].value.includes(preselcted_booking_type)) {\n                    $(arr[i]).prop(\"checked\", true);\n                }\n            }\n\n            document.cookie =\n                TIPOLOGIA_PRENOTAZIONE_COOKIE +\n                \"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;\";\n        });\n    },\n});\n"],"names":["registry","init","$","Base","logging","setLevel","log","getLogger","extend","name","trigger","parser","console","document","on","attr","ready","actionBook","addClass","TIPOLOGIA_PRENOTAZIONE_COOKIE","UnicodeDecodeB64","str","decodeURIComponent","atob","getCookie","cookie","split","forEach","el","k","v","trim","cookie_str","replace","length","arr","booking_type_cookie","preselcted_booking_type","slice","i","value","includes","prop"],"sourceRoot":""}